{% extends 'layout/index.html.twig' %}

{% block title %}
<title>Checkout - All</title>
{% endblock %}

{% block body %}
<section class="section breadcrumb-section" style="background-image: url(images/image-10-1920x232.jpg)">
  <div class="container">
    <h2 class="breadcrumb-section-title">Checkout</h2>
    <!-- Breadcrumb-->
    <div class="breadcrumb">
      <div class="breadcrumb-inner">
        <div class="breadcrumb-item"><a class="breadcrumb-link" href="">Home</a></div>
        <div class="breadcrumb-item"><a class="breadcrumb-link" href="{{ path('checkout') }}">Checkout</a></div>
      </div>
    </div>
  </div>
</section>
<!-- Checkout-->
<section class="section-md bg-transparent">
  <div class="container">
    <form action="{{ path('order_store') }}" method="POST">
      <div class="row row-40 justify-content-center">
        <div class="col-md-8">
          <h3>Shipping details</h3>
          <div class="box box-form-simple">
            <div class="rd-form row row-15 row-gutters-14">
              <div class="col-md-6">
                <div class="form-group">
                  <label class="form-label" for="first_name">First name</label>
                  <div class="form-validation-wrap">
                    {% if (old is defined) and ('first_name' in old|keys) %}
                    <input class="form-control" id="first_name" type="text" name="first_name" placeholder="Your First name" data-constraints="@Required"  value="{{ old.first_name }}">
                    {% else %}
                    <input class="form-control" id="first_name" type="text" name="first_name" placeholder="Your First name" data-constraints="@Required" value="{{ user.getFirstName }}">
                    {% endif %}
                    {% if (errors is defined) and ('first_name' in errors|keys) %}
                    <span style="color: red;">{{ errors.first_name }}</span>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="form-label" for="last_name">Last name</label>
                  <div class="form-validation-wrap">
                    {% if (old is defined) and ('last_name' in old|keys) %}
                    <input class="form-control" id="last_name" type="text" name="last_name" placeholder="Your Last name" data-constraints="@Required" value="{{ old.last_name }}">
                    {% else %}
                    <input class="form-control" id="last_name" type="text" name="last_name" placeholder="Your Last name" data-constraints="@Required" value="{{ user.getLastName }}">
                    {% endif %}
                    {% if (errors is defined) and ('last_name' in errors|keys) %}
                    <span style="color: red;">{{ errors.last_name }}</span>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="form-label" for="email">E-mail</label>
                  <div class="form-validation-wrap">
                    <input class="form-control" id="email" type="email" name="email" placeholder="Your E-mail" data-constraints="@Email @Required" value="{{ user.getEmail }}" disabled>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="form-label" for="company">Company</label>
                  <div class="form-validation-wrap">
                    {% if (old is defined) and ('company' in old|keys) %}
                    <input class="form-control" id="company" type="text" name="company" placeholder="Last name" data-constraints="@Required" value="{{ old.company }}">
                    {% else %}
                    <input class="form-control" id="company" type="text" name="company" placeholder="Last name" data-constraints="@Required">
                    {% endif %}
                    {% if (errors is defined) and ('company' in errors|keys) %}
                    <span style="color: red;">{{ errors.company }}</span>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-12">
                <div class="form-group">
                  <label class="form-label" for="shipping_address">Shipping Address</label>
                  <div class="form-validation-wrap">
                    {% if (old is defined) and ('shipping_address' in old|keys) %}
                    <input class="form-control" id="shipping_address" type="text" name="shipping_address" placeholder="Your Address 1" data-constraints="@Required" value="{{ old.shipping_address }}">
                    {% else %}
                    <input class="form-control" id="shipping_address" type="text" name="shipping_address" placeholder="Your Address 1" data-constraints="@Required" value="{{ user.getAddress }}">
                    {% endif %}
                    {% if (errors is defined) and ('shipping_address' in errors|keys) %}
                    <span style="color: red;">{{ errors.shipping_address }}</span>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group select-wrap">
                  <label class="form-label" for="checkout-country-input">Country</label>
                  <select class="select2" id="checkout-country-input" name="country" data-select2-options='{"placeholder":"Your Country"}' value="{{ user.getCountry }}">
                    <option value="Tunisia">Tunisia</option>
                  </select>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="form-label" for="zip_code">Zip Code</label>
                  <div class="form-validation-wrap">
                    {% if (old is defined) and ('zip_code' in old|keys) %}
                    <input class="form-control" id="zip_code" type="text" name="zip_code" placeholder="Your Zip Code" data-constraints="@Required" value="{{ old.zip_code }}">
                    {% else %}
                    <input class="form-control" id="zip_code" type="text" name="zip_code" placeholder="Your Zip Code" data-constraints="@Required">
                    {% endif %}
                    {% if (errors is defined) and ('zip_code' in errors|keys) %}
                    <span style="color: red;">{{ errors.zip_code }}</span>
                    {% endif %}
                  </div>
                </div>
              </div>
              <div class="col-12">
                <div class="form-group">
                  <label class="form-label" for="comment">Comments</label>
                  <div class="form-validation-wrap">
                    {% if (old is defined) and ('comment' in old|keys) %}
                    <textarea class="form-control" id="comment" name="comment" placeholder="Enter Your Comments" data-constraints="@Required">{{ old.comment }}</textarea>
                    {% else %}
                    <textarea class="form-control" id="comment" name="comment" placeholder="Enter Your Comments" data-constraints="@Required"></textarea>
                    {% endif %}
                    {% if (errors is defined) and ('comment' in errors|keys) %}
                    <span style="color: red;">{{ errors.comment }}</span>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <h3>Your order</h3>
          <div class="box box-simple box-simple-2">
            <div class="box-embed">
              <ul class="list list-divided">
                {% for cart in carts %}
                <li class="list-item">
                  <div class="list-content">{{ cart.product.getName }}</div>
                  <div class="list-content">${{ cart.product.getPrice * cart.getQuantity }}</div>
                </li>
                {% endfor %}
                <li class="list-item">
                  <div class="list-content">Promocode</div>
                  <div class="list-content text-success">-${{ promocode_price }}</div>
                </li>
                <li class="list-item">
                  <div class="list-content">Shipping</div>
                  <div class="list-content text-warning">-${{ shipping_price }}</div>
                </li>
                <li class="list-item h5">
                  <div class="list-content">Total</div>
                  <div class="list-content text-primary">${{ total_price }}</div>
                </li>
              </ul>
              <div class="custom-contro-container">
                <div class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" id="v7vgo3ckp2q" name="checkout" checked>
                  <label class="custom-control-label" for="v7vgo3ckp2q">Direct Bank Transfer
                  </label>
                </div>
                <div class="custom-control custom-radio">
                  <input class="custom-control-input" type="radio" id="px7baoj7t07" name="checkout">
                  <label class="custom-control-label" for="px7baoj7t07">PayPal
                  </label>
                </div>
              </div>
              <button type="submit" class="btn btn-block">Order now</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>
{% endblock %}